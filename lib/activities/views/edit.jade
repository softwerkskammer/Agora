extends ../../../views/layout

mixin text(name, label)
  .control-group
    label(class="control-label", for=name) #{label}:
    input(id=name, class="input-block-level input-xlarge", type='text', name=name, value=activity[name])
mixin textarea(name, label)
  .control-group
    label(class="control-label", for=name) #{label}:
    textarea(rows="4", class="input-block-level input-xxlarge", id=name, type='text', name=name)
      | #{activity[name]}
mixin date(name, label)
  .control-group
    label(class="control-label", for=name) #{label}:
    input(id=name, class="input-block-level input-xlarge datepicker", type='text', name=name, value=activity[name])
mixin time(name, label)
  .control-group.bootstrap-timepicker
    label(class="control-label", for=name) #{label}:
    input(id=name, class="input-block-level input-xlarge timepicker", type='text', name=name, value=activity[name])

block scripts
  script(src="/clientscripts/jquery.validate-1.11.1.js")
  script(src="/clientscripts/messages_de.js")
  script(src="/clientscripts/methods_de.js")
  script(src="/clientscripts/bootstrap-datepicker.de.js")
  script(src="/clientscripts/bootstrap-timepicker.js")
  script(src="/clientscripts/check-activityform.js")

block title
  | Aktivität

block content
  form(id='activityform', action='/activities/submit', method='post')
    - if (activity.id)
      input(type="hidden", name="id", value=activity.id)
    fieldset
      .span12
        legend
          | Aktivität
      .row-fluid
        .span6
          mixin text('title', 'Titel')
          .row-fluid
            .span6
              mixin date('activityDate', 'Datum')
            .span6
              mixin time('startTime', 'Uhrzeit')
          mixin textarea('description', 'Beschreibung')
        .span6
          mixin text('location', 'Veranstaltungsort')
          mixin textarea('direction', 'Wegbeschreibung')
          .control-group
            label.control-label(for="assignedGroup") Gruppe:
            select#assignedGroup.input-block-level.input-xlarge(name="assignedGroup", disabled=activity.assignedGroup != undefined)
              for group in groups
                option(value=group.id, selected = (activity.assignedGroup != undefined && activity.assignedGroup == group.id))  #{group.longName}
            - if (activity.assignedGroup != undefined)
              input(type="hidden", name="assignedGroup", value=activity.assignedGroup)
      .row-fluid
        .span12
          button.btn.btn-primary(type="/activities/submit") Speichern
          a.btn(href="javascript:history.back()", type="cancel") Zurück
