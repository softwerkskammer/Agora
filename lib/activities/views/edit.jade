extends ../../../views/layout

mixin text(name, label)
  .control-group
    label(class="control-label", for=name) #{label}:
    input(id=name, class="input-block-level input-xlarge", type='text', name=name, value=activity[name])
mixin textarea(name, label)
  .control-group
    label(class="control-label", for=name) #{label}:
    textarea(rows="7", class="input-block-level input-xxlarge", id=name, type='text', name=name, data-provide="markdown")
      | #{activity[name]}
mixin date(name, label)
  .control-group
    label(class="control-label", for=name) #{label}:
    input(id=name, class="input-block-level input-xlarge datepicker", type='text', name=name, value=activity[name])
mixin time(name, label)
  .control-group.bootstrap-timepicker
    label(class="control-label", for=name) #{label}:
    input(id=name, class="input-block-level input-xlarge timepicker", type='text', name=name, value=activity[name])

block scripts
  script(src="/clientscripts/jquery.validate-1.11.1.js")
  script(src="/clientscripts/messages_de.js")
  script(src="/clientscripts/methods_de.js")
  script(src="/clientscripts/bootstrap-datepicker.de.js")
  script(src="/clientscripts/bootstrap-timepicker.js")
  script(src="/clientscripts/check-activityform.js")
  script
    $(function(){
      $('#color').colorpicker();
    });

block title
  | Aktivit채t

block content
  form(id='activityform', action='/activities/submit', method='post')
    if (activity.id)
      input#id(type="hidden", name="id", value=activity.id)
    input#previousUrl(type="hidden", name="previousUrl", value=activity.url)
    fieldset
      .span12
        legend
          | Aktivit채t
      .row-fluid
        .span6
          mixin text('title', 'Titel')
          .row-fluid
            .span6
              mixin date('startDate', 'Startdatum')
            .span6
              mixin time('startTime', 'Startuhrzeit')
          .row-fluid
            .span6
              mixin date('endDate', 'Enddatum')
            .span6
              mixin time('endTime', 'Enduhrzeit')
          mixin textarea('description', 'Beschreibung')
        .span6
          mixin text('url', 'URL')
          mixin text('location', 'Veranstaltungsort')
          mixin textarea('direction', 'Wegbeschreibung')
          .control-group
            label.control-label(for="assignedGroup") Gruppe:
            select#assignedGroup.input-block-level.input-xlarge(name="assignedGroup")
              for group in groups
                option(value=group.id, selected = (activity.assignedGroup != undefined && activity.assignedGroup == group.id))  #{group.longName}
            if activity.assignedGroup != undefined
              input(type="hidden", name="assignedGroup", value=activity.assignedGroup)
          .control-group
            label.control-label(for="color") Farbe f체r Kalender:
            #color.input-append.color(data-color="#{activity.color}", data-color-format="hex")
              input.input-block-level.input-xlarge(type="text", name="color", value="#{activity.color}")
              span.add-on: i(style="background-color: #{activity.color}")
      .row-fluid
        .span12
          button.btn.btn-primary(type="/activities/submit") Speichern
          a.btn(href="javascript:history.back()", type="cancel") Zur체ck
