extends ../../../views/layout

block title
  | Übersicht der Mitglieder

block scripts
  script(src="/clientscripts/utilities-for-editables.js")
  script
    var initEditable = function () {
      $("table").find("a").filter(function () {return this.id === "isAdmin"; }).editable(
        {source: [
          {value: 0, text: "Normal"},
          {value: 1, text: "Administrator"}
        ],
          showbuttons: false}
      );
    };
    $(document).ready(initEditable);


block content
  .span12
    .page-header
      h2 Verwaltung
        small  Mitglieder
  .row-fluid
    table(class="span 12 table table-condensed table-hover table-striped", style="overflow: auto; max-height: 600px")
      thead
        tr
          th.span1: .ellipsis.narrow Nickname
          th.span1: .ellipsis.narrow Vorname
          th.span1: .ellipsis.narrow Nachname
          th.span1: .ellipsis.narrow Email
          th.span1: .ellipsis.narrow Twitter
          th.span1: .ellipsis.narrow Ort / Region
          th.span1: .ellipsis.narrow Beruf
          th.span1: .ellipsis.narrow Interessenschwerpunkte
          th.span1: .ellipsis.narrow Website / Blog
          th.span2: .ellipsis.narrow Wie ich von…
          th.span1: .ellipsis.narrow Benutzertyp
      tbody
        for member in members
          tr
            th.span1: .ellipsis.narrow #{member.nickname}
            td.span1: a#firstname(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.firstname}
            td.span1: a#lastname(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.lastname}
            td.span1: a#email(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.email}
            td.span1: a#twitter(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.twitter}
            td.span1: a#location(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.location}
            td.span1: a#profession(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.profession}
            td.span1: a#interests(href="#", data-placement="left", data-type="textarea", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.interests}
            td.span1: a#site(href="#", data-placement="left", data-type="textarea", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.site}
            td.span2: a#reference(href="#", data-placement="left", data-type="textarea", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis #{member.reference}
            td.span1: a#isAdmin(href="#", data-type="select", data-value="#{member.adminDropdownValue()}", data-pk="#{member.nickname}", data-url="memberChanged"): .ellipsis.narrow #{member.adminDisplayText()}

