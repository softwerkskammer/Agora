extends ../../../views/layout

block title
  | Ãœbersicht der Mitglieder

block scripts
  script(src="/clientscripts/utilities-for-editables.js")
  script
    var initEditable = function () {
      $("table").find("a").filter(function () {return this.id === "isAdmin"; }).editable(
        {source: [
          {value: 0, text: "Normal"},
          {value: 1, text: "Administrator"}
        ],
          showbuttons: false}
      );
    };
    $(document).ready(initEditable);


block content
  .span12
    .page-header
      h2 Verwaltung
        small  Mitglieder
  .row-fluid
    table(class="span 12 table table-condensed table-hover table-striped", style="overflow: auto; max-height: 600px")
      thead
        tr
          th.ellipsis.narrow.span1 Nickname
          th.ellipsis.narrow.span1 Vorname
          th.ellipsis.narrow.span1 Nachname
          th.ellipsis.narrow.span1 Email
          th.ellipsis.narrow.span1 Twitter
          th.ellipsis.narrow.span1 Ort / Region
          th.ellipsis.narrow.span1 Beruf
          th.ellipsis.narrow.span1 Interessenschwerpunkte
          th.ellipsis.narrow.span1 Website / Blog
          th.ellipsis.narrow.span2 Wie ich von...
          th.ellipsis.narrow.span1 Benutzertyp
      tbody
        for member in members
          tr
            th.ellipsis.narrow.span1 #{member.nickname}
            td.ellipsis.narrow.span1: a#firstname(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged") #{member.firstname}
            td.ellipsis.narrow.span1: a#lastname(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged") #{member.lastname}
            td.ellipsis.narrow.span1: a#email(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged") #{member.email}
            td.ellipsis.narrow.span1: a#twitter(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged") #{member.twitter}
            td.ellipsis.narrow.span1: a#location(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged") #{member.location}
            td.ellipsis.narrow.span1: a#profession(href="#", data-type="text", data-pk="#{member.nickname}", data-url="memberChanged") #{member.profession}
            td.ellipsis.narrow.span1: a#interests(href="#", data-placement="left", data-type="textarea", data-pk="#{member.nickname}", data-url="memberChanged") #{member.interests}
            td.ellipsis.narrow.span1: a#site(href="#", data-placement="left", data-type="textarea", data-pk="#{member.nickname}", data-url="memberChanged") #{member.site}
            td.ellipsis.span2: a#reference(href="#", data-placement="left", data-type="textarea", data-pk="#{member.nickname}", data-url="memberChanged") #{member.reference}
            td.ellipsis.narrow.span1: a#isAdmin(href="#", data-type="select", data-value="#{member.adminDropdownValue()}", data-pk="#{member.nickname}", data-url="memberChanged") #{member.adminDisplayText()}

