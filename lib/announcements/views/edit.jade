extends ../../../views/layout

include  ../../../views/formComponents

block scripts
  script(src="/clientscripts/check-announcementform.js")

block title
  | #{t("announcements.announcement")}

block content
  form(id='announcementform', action='/announcements/submit', method='post')
    if (announcement.id)
      mixin hidden('id', announcement.id)
    mixin hidden('fromUnix', announcement.fromUnix)
    mixin hidden('previousUrl', announcement.url)
    mixin hidden('author', announcement.author)
    fieldset
      .row
        .col-md-12
          legend
            if (announcement.id)
              | #{t("announcements.edit")}
            else
              |  #{t("announcements.create")}
      .row
        .col-md-6
          mixin text('title', t("general.title"), announcement.title)
          mixin text('url', t("general.url"), announcement.url)
        .col-md-6
          mixin date('thruDate', t("announcements.show_until"), announcement, announcement.thruMoment().lang(language).format('L'))
      .row
        .col-md-12
          mixin hightextarea('message', t("announcements.text"), announcement.message)
      .row
        .col-md-12
          button.btn.btn-primary.pull-right(type="submit") #{t("general.save")}
          a.btn.btn-default.pull-right(href="javascript:history.back()", type="cancel") #{t("general.back")}
